
<!DOCTYPE html>
<html lang="zh-tw">
    
<head>
    <meta http-equiv="Content-Type" content="text/html" charset="UTF-8" >
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="雷德麥的藏書閣">
    <title>Category : C - 雷德麥的藏書閣</title>
    <meta name="author" content="Justin Yang">
    
    
        <link rel="alternative" type="application/atom+xml" title="RSS" href="/atom.xml">
    
    <meta name="description">
<meta property="og:type" content="blog">
<meta property="og:title" content="雷德麥的藏書閣">
<meta property="og:url" content="http://zake7749.github.io/categories/程式語言/C/index.html">
<meta property="og:site_name" content="雷德麥的藏書閣">
<meta property="og:description">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="雷德麥的藏書閣">
<meta name="twitter:description">
    
        <meta rel="publisher" content="https://plus.google.com/110210184472476277760"/>
    
    
    
        <meta property="og:image" content="/assets/images/owl.png"/>
    
    
    
    
    <!--STYLES-->
    <link rel="stylesheet" href="/assets/css/style.min.css" type="text/css">
    <!--STYLES END-->
    
</head>

    <body>
        <div id="blog">
            <header id="header" data-behavior="1">
    <i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i>
    <h1 class="header-title">
        <a class="header-title-link" href="/ ">雷德麥的藏書閣</a>
    </h1>
    
        
            <a  class="header-right-icon st-search-show-outputs"
                href="/#search">
        
                <i class="fa fa-lg fa-search"></i>
            </a>
    
</header>
            <nav id="sidebar" data-behavior="1">
    
        <div class="sidebar-profile">
            <a href="/#about">
                
                    <img class="sidebar-profile-picture" src="/assets/images/owl.png"/>
                
            </a>
            <span class="sidebar-profile-name">Justin Yang</span>
        </div>
    
    
        <ul class="sidebar-buttons">
        
            <li class="sidebar-button">
                
                    <a  class="sidebar-button-link "
                         href="/ "
                        
                    >
                
                    <i class="sidebar-button-icon fa fa-lg fa-home"></i>
                    <span class="sidebar-button-desc">Home</span>
                </a>
        </li>
        
            <li class="sidebar-button">
                
                    <a  class="sidebar-button-link "
                         href="/all-categories"
                        
                    >
                
                    <i class="sidebar-button-icon fa fa-lg fa-bookmark"></i>
                    <span class="sidebar-button-desc">Categories</span>
                </a>
        </li>
        
            <li class="sidebar-button">
                
                    <a  class="sidebar-button-link "
                         href="/all-tags"
                        
                    >
                
                    <i class="sidebar-button-icon fa fa-lg fa-tags"></i>
                    <span class="sidebar-button-desc">Tags</span>
                </a>
        </li>
        
            <li class="sidebar-button">
                
                    <a  class="sidebar-button-link "
                         href="/all-archives"
                        
                    >
                
                    <i class="sidebar-button-icon fa fa-lg fa-archive"></i>
                    <span class="sidebar-button-desc">Archive</span>
                </a>
        </li>
        
            <li class="sidebar-button">
                
                    <a  class="sidebar-button-link st-search-show-outputs"
                         href="/#search"
                        
                    >
                
                    <i class="sidebar-button-icon fa fa-lg fa-search"></i>
                    <span class="sidebar-button-desc">Search</span>
                </a>
        </li>
        
            <li class="sidebar-button">
                
                    <a  class="sidebar-button-link "
                         href="/#about"
                        
                    >
                
                    <i class="sidebar-button-icon fa fa-lg fa-info"></i>
                    <span class="sidebar-button-desc">About</span>
                </a>
        </li>
        
    </ul>
    
        <ul class="sidebar-buttons">
        
            <li class="sidebar-button">
                
                    <a  class="sidebar-button-link " href="https://github.com/zake7749" target="_blank">
                
                    <i class="sidebar-button-icon fa fa-lg fa-github"></i>
                    <span class="sidebar-button-desc">GitHub</span>
                </a>
        </li>
        
            <li class="sidebar-button">
                
                    <a  class="sidebar-button-link " href="https://plus.google.com/110210184472476277760" target="_blank">
                
                    <i class="sidebar-button-icon fa fa-lg fa-google-plus"></i>
                    <span class="sidebar-button-desc">Google Plus</span>
                </a>
        </li>
        
    </ul>
    
</nav>

            
            <div id="main" data-behavior="1"
                 class="
                        hasCoverMetaIn
                        ">
                
    
<section class="postShorten-group main-content-wrap">
    
        
        
                <article class="postShorten" itemscope itemType="http://schema.org/BlogPosting">
        
            <div class="postShorten-wrap">
                <div class="postShorten-header">
                    <h1 class="postShorten-title" itemprop="headline">
                        
                                <a class="link-unstyled" href="/2015/10/07/SocketProgramming/">Socket Programming 學習筆記</a>
                        
                    </h1>
                    <div class="postShorten-meta">
    <time itemprop="datePublished" content="Wed Oct 07 2015 20:57:24 GMT+0800">
	
		    10月 07, 2015
    	
    </time>
    
        <span>@ </span>
        
    <a class="category-link" href="/categories/程式語言/">程式語言</a>, <a class="category-link" href="/categories/程式語言/C/">C</a>


    
</div>
                </div>
                <div class="postShorten-excerpt" itemprop="articleBody">
                    
                        <h2 id="u5EFA_u7ACB_u4E00_u500BSocket"><a href="#u5EFA_u7ACB_u4E00_u500BSocket" class="headerlink" title="建立一個Socket"></a>建立一個Socket</h2><p>使用<code>socket(int,int,int)</code>，它能幫助我們在kernel中建立一個socket，並傳回對該socket的<a href="https://zh.wikipedia.org/wiki/%E6%96%87%E4%BB%B6%E6%8F%8F%E8%BF%B0%E7%AC%A6">檔案描述符</a>。</p>
<h3 id="Prototype"><a href="#Prototype" class="headerlink" title="Prototype"></a>Prototype</h3><figure class="highlight aspectj"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">socket</span><span class="params">(<span class="keyword">int</span> domain, <span class="keyword">int</span> type, <span class="keyword">int</span> protocol)</span></span>;</span><br></pre></td></tr></table></figure>
<h3 id="Arguments"><a href="#Arguments" class="headerlink" title="Arguments"></a>Arguments</h3><h4 id="domain"><a href="#domain" class="headerlink" title="domain"></a>domain</h4><p>定義了socket要在哪個領域溝通，常用的有2種：</p>
<ul>
<li>AF_UNIX/AF_LOCAL：用在本機<strong>程序與程序</strong>間的傳輸，讓兩個程序共享一個檔案系統(file system)</li>
<li>AF_INET , AF_INET6 ：讓兩台主機<strong>透過網路</strong>進行資料傳輸，AF_INET使用的是IPv4協定，而AF_INET6則是IPv6協定。</li>
</ul>
<h4 id="type"><a href="#type" class="headerlink" title="type"></a>type</h4><p>說明這個socket是傳輸的手段為何：</p>
<ul>
<li>SOCK_STREAM：提供一個序列化的連接導向位元流，可以做位元流傳輸。對應的protocol為TCP。</li>
<li>SOCK_DGRAM：提供的是一個一個的資料包(datagram)，對應的protocol為UDP</li>
</ul>
<h4 id="protocol"><a href="#protocol" class="headerlink" title="protocol"></a>protocol</h4><p>設定socket的協定標準，一般來說都會設為0，讓kernel選擇type對應的默認協議。</p>
<h4 id="Return_Value"><a href="#Return_Value" class="headerlink" title="Return Value"></a>Return Value</h4><p>成功產生socket時，會返回該socket的檔案描述符(socket file descriptor)，我們可以透過它來操作socket。若socket創建失敗則會回傳-1(INVALID_SOCKET)。</p>
<h3 id="Example"><a href="#Example" class="headerlink" title="Example"></a>Example</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;sys/socket.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc , <span class="keyword">char</span> *argv[])</span></span><br><span class="line"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> sockfd = <span class="number">0</span>;</span><br><span class="line">    sockfd = socket(AF_INET , SOCK_STREAM , <span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (socket_fd == <span class="number">-1</span>)&#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"Fail to create a socket."</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
                    
                    
                        
                            <a href="/2015/10/07/SocketProgramming/" class="postShorten-excerpt_link link ">Continue reading</a>
                            
                        
                    
                    
                </div>
            </div>
            
        </article>
    
        
        
                <article class="postShorten" itemscope itemType="http://schema.org/BlogPosting">
        
            <div class="postShorten-wrap">
                <div class="postShorten-header">
                    <h1 class="postShorten-title" itemprop="headline">
                        
                                <a class="link-unstyled" href="/2015/08/13/Cpreprocessor/">前置處理器</a>
                        
                    </h1>
                    <div class="postShorten-meta">
    <time itemprop="datePublished" content="Thu Aug 13 2015 16:44:09 GMT+0800">
	
		    8月 13, 2015
    	
    </time>
    
        <span>@ </span>
        
    <a class="category-link" href="/categories/程式語言/">程式語言</a>, <a class="category-link" href="/categories/程式語言/C/">C</a>


    
</div>
                </div>
                <div class="postShorten-excerpt" itemprop="articleBody">
                    
                        <p>前置處理器 = 進行「前置處理」的文字編輯器。</p>
<p>或許我們得先解決什麼是「前置處理」。<br>從說文解字的角度出發，它做的是某件工作的事前處理，在C和C++中，我們指的是進行<strong>編譯前</strong>的處理工作，大致上可分為：</p>
<ul>
<li>引入標頭檔(Header file)</li>
<li>進行文字的取代<ul>
<li>巨集、常數的定義……</li>
<li>條件式編譯</li>
</ul>
</li>
</ul>
<p>具體而言，在程式中前有 <code>#</code> 的部分就涉及了前置處理，比如<code>#define</code>、<code>#Pragma</code>與<code>#include</code>等等。</p>
<p>要注意，前置處理器並不屬於C編譯器的一部分，它也不了解C家族的語法，如果你用C的觀點來審視它可能會碰上大麻煩。<br>
                    
                    
                        
                            <a href="/2015/08/13/Cpreprocessor/" class="postShorten-excerpt_link link ">Continue reading</a>
                            
                        
                    
                    
                </div>
            </div>
            
        </article>
    
    <div class="pagination-bar">
    <ul class="pagination">
        
        
        <li class="pagination-number">page 1 of 1</li>
    </ul>
</div>

</section>



                <footer id="footer" class="main-content-wrap">
    <span class="copyrights">
        Copyrights &copy; 2016 Justin Yang. All Rights Reserved.
    </span>
</footer>

            </div>
            
        </div>
        <div id="about">
    <div id="about-card">
        <div id="about-btn-close">
            <i class="fa fa-remove"></i>
        </div>
        
            <img id="about-card-picture" src="/assets/images/owl.png"/>
        
            <h4 id="about-card-name">Justin Yang</h4>
        
            <h5 id="about-card-bio"><p>新手攻城獅一枚，正在探求神乎其技的AI之道</p>
</h5>
        
        
            <h5 id="about-card-job">
                <i class="fa fa-briefcase"></i>
                <br/>
                <p>Student</p>

            </h5>
        
        
    </div>
</div>

        <div id="cover" style="background-image:url('/assets/images/city-night-evening-canal.jpg');"></div>
    </body>
    <!--SCRIPTS-->
<script src="/assets/js/script.min.js" type="text/javascript"></script>
<!--SCRIPTS END-->



</html>
